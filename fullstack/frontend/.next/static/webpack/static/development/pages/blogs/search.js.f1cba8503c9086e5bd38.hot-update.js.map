{"version":3,"file":"static/webpack/static\\development\\pages\\blogs\\search.js.f1cba8503c9086e5bd38.hot-update.js","sources":["webpack:///./components/blog/Search.js","webpack:///./components/blog/SearchCard.js"],"sourcesContent":["import Link from 'next/link';\nimport renderHTML from 'react-render-html';\nimport { useState, useEffect } from 'react';\nimport { listSearch } from '../../actions/blog';\nimport SearchCard from '../../components/blog/SearchCard';\n\nimport { Form, FormGroup, FormControl, Grid, Row, Col, Button, Icon, Input, InputGroup } from 'rsuite';\n\nconst Search = () => {\n    const [values, setValues] = useState({\n        search: undefined,\n        results: [],\n        searched: false,\n        message: ''\n    });\n\n    const { search, results, searched, message } = values;\n\n    const searchSubmit = e => {\n        e.preventDefault();\n        listSearch({ search }).then(data => {\n            setValues({ ...values, results: data, searched: true, message: `${data.length} blogs found` });\n        });\n    };\n\n    const handleChange = e => {\n        setValues({ ...values, search: e, searched: false, results: [] });\n    };\n\n    const searchedBlogs = (results = []) => {\n        return (\n            <div>\n                {message && <p className=\"pt-4\">{message}</p>}\n\n                {results.map((blog, i) => {\n                    return (\n                        <Col xs={12} key={i}>\n                            <SearchCard blog={blog} />\n                        </Col>\n                    );\n                })}\n            </div>\n        );\n    };\n\n    const searchForm = () => (\n       <Form onSubmit={searchSubmit} fluid layout=\"inline\">\n           <FormGroup style={{marginRight: 5}}>\n               <FormControl placeholder=\"Search Posts...\" onChange={handleChange} />\n           </FormGroup>\n           <Button type=\"submit\" appearance=\"ghost\">\n                <Icon icon=\"search\"  /> Search\n            </Button>\n       </Form>\n    );\n\n    return (\n        <div className=\"container\">\n            <Grid fluid>\n                <Row className=\"show-grid\">\n                    <Col xs={24}>\n                        {searchForm()}\n                    </Col>\n                    {searched && <React.Fragment>{searchedBlogs(results)}</React.Fragment>}\n                </Row>\n            </Grid>\n        </div>\n    );\n};\n\nexport default Search;\n","import Link from 'next/link';\r\nimport renderHTML from 'react-render-html';\r\nimport moment from 'moment';\r\nimport { API } from '../../config';\r\nimport Img from 'react-image';\r\n\r\nimport { Icon, TagGroup, Tag, Grid, Row, Col, Loader } from 'rsuite';\r\n\r\nconst SearchCard = ({ blog }) => {\r\n\tconst showBlogCategories = (blog) =>\r\n\t\tblog.categories.map((c, i) => (\r\n\t\t\t<Link key={i} href={`/categories/${c.slug}`}>\r\n\t\t\t\t<a className=\"small-category\">{c.name}</a>\r\n\t\t\t</Link>\r\n\t\t));\r\n\r\n\tconst showBlogTags = (blog) =>\r\n\t\tblog.tags.map((t, i) => (\r\n\t\t\t<Tag style={{ backgroundColor: '#ccc' }} key={i}>\r\n\t\t\t\t<Link href={`/tags/${t.slug}`}>\r\n\t\t\t\t\t<a className=\"small-tag\">{t.name}</a>\r\n\t\t\t\t</Link>\r\n\t\t\t</Tag>\r\n\t\t));\r\n\r\n\treturn (\r\n\t\t<div className=\"article-box mb-3\">\r\n\t\t\t<header>\r\n\t\t\t\t<Grid fluid>\r\n\t\t\t\t\t<Row className=\"show-grid\">\r\n\t\t\t\t\t\t<Col xs={24}>\r\n\t\t\t\t\t\t\t{showBlogCategories(blog)}\r\n\t\t\t\t\t\t\t<Link href={`/blogs/${blog.slug}`}>\r\n\t\t\t\t\t\t\t\t<a>\r\n\t\t\t\t\t\t\t\t\t<h6>{blog.title}</h6>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t</header>\r\n\t\t\t<section>\r\n\t\t\t\t<Grid fluid>\r\n\t\t\t\t\t<Row className=\"show-grid\">\r\n\t\t\t\t\t\t<Col xs={24}>\r\n\t\t\t\t\t\t\t<p className=\"writer\">\r\n\t\t\t\t\t\t\t\t<Icon icon=\"user\" className=\"pr-2\" /> {blog.postedBy.name}{' '}\r\n\t\t\t\t\t\t\t\t<Icon icon=\"calendar\" className=\"px-2\" /> {moment(blog.updatedAt).fromNow()}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section>\r\n\t\t\t\t<Grid fluid>\r\n\t\t\t\t\t<Row className=\"show-grid\">\r\n\t\t\t\t\t\t<Col xs={12}>\r\n\t\t\t\t\t\t\t<div className=\"blog-excerpt\">{renderHTML(blog.excerpt)}</div>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs={12} className=\"text-center\">\r\n\t\t\t\t\t\t\t<Img className=\"blog-thumbnail\" src={`${API}/blog/photo/${blog.slug}`} loader={<Loader size=\"md\" />} />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section>\r\n\t\t\t\t<Grid fluid>\r\n\t\t\t\t\t<Row className=\"show-grid\">\r\n\t\t\t\t\t\t<Col xs={12}>\r\n\t\t\t\t\t\t\t<TagGroup>{showBlogTags(blog)}</TagGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SearchCard;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AACA;AAUA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AADA;AACA;AAMA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AADA;AACA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;A","sourceRoot":""}