{"version":3,"file":"static/webpack/static\\development\\pages\\blogs\\search.js.c8605a0ec76b14c19194.hot-update.js","sources":["webpack:///./components/blog/Card.js","webpack:///./components/blog/Search.js"],"sourcesContent":["import Link from 'next/link';\nimport renderHTML from 'react-render-html';\nimport moment from 'moment';\nimport { API } from '../../config';\nimport Img from 'react-image';\n\nimport { Icon, TagGroup, Tag, Grid, Row, Col, Loader } from 'rsuite';\n\nconst Card = ({ blog }) => {\n\tconst showBlogCategories = (blog) =>\n\t\tblog.categories.map((c, i) => (\n\t\t\t<Link key={i} href={`/categories/${c.slug}`}>\n\t\t\t\t<a className=\"small-category\">{c.name}</a>\n\t\t\t</Link>\n\t\t));\n\n\tconst showBlogTags = (blog) =>\n\t\tblog.tags.map((t, i) => (\n\t\t\t<Tag style={{ backgroundColor: '#ccc' }} key={i}>\n\t\t\t\t<Link href={`/tags/${t.slug}`}>\n\t\t\t\t\t<a className=\"small-tag\">{t.name}</a>\n\t\t\t\t</Link>\n\t\t\t</Tag>\n\t\t));\n\n\treturn (\n\t\t<div className=\"article-box mb-3\">\n\t\t\t<header>\n\t\t\t\t<Grid fluid>\n\t\t\t\t\t<Row className=\"show-grid\">\n\t\t\t\t\t\t<Col xs={24}>\n\t\t\t\t\t\t\t{showBlogCategories(blog)}\n\t\t\t\t\t\t\t<Link href={`/blogs/${blog.slug}`}>\n\t\t\t\t\t\t\t\t<a>\n\t\t\t\t\t\t\t\t\t<h6>{blog.title}</h6>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Grid>\n\t\t\t</header>\n\t\t\t<section>\n\t\t\t\t<Grid fluid>\n\t\t\t\t\t<Row className=\"show-grid\">\n\t\t\t\t\t\t<Col xs={24}>\n\t\t\t\t\t\t\t<p className=\"writer\">\n\t\t\t\t\t\t\t\t<Icon icon=\"user\" className=\"pr-2\" /> {blog.postedBy.name}{' '}\n\t\t\t\t\t\t\t\t<Icon icon=\"calendar\" className=\"px-2\" /> {moment(blog.updatedAt).fromNow()}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Grid>\n\t\t\t</section>\n\n\t\t\t<section>\n\t\t\t\t<Grid fluid>\n\t\t\t\t\t<Row className=\"show-grid\">\n\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t<div className=\"blog-excerpt\">{renderHTML(blog.excerpt)}</div>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={12} className=\"text-center\">\n\t\t\t\t\t\t\t<Img className=\"blog-thumbnail\" src={`${API}/blog/photo/${blog.slug}`} loader={<Loader size=\"md\" />} />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Grid>\n\t\t\t</section>\n\n\t\t\t<section>\n\t\t\t\t<Grid fluid>\n\t\t\t\t\t<Row className=\"show-grid\">\n\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t<TagGroup>{showBlogTags(blog)}</TagGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Grid>\n\t\t\t</section>\n\t\t</div>\n\t);\n};\n\nexport default Card;\n","import Link from 'next/link';\nimport renderHTML from 'react-render-html';\nimport { useState, useEffect } from 'react';\nimport { listSearch } from '../../actions/blog';\nimport Card from '../../components/blog/Card';\n\nimport { Form, FormGroup, FormControl, Grid, Row, Col, Button, Icon, Input, InputGroup } from 'rsuite';\n\nconst Search = () => {\n    const [values, setValues] = useState({\n        search: undefined,\n        results: [],\n        searched: false,\n        message: ''\n    });\n\n    const { search, results, searched, message } = values;\n\n    const searchSubmit = e => {\n        e.preventDefault();\n        listSearch({ search }).then(data => {\n            setValues({ ...values, results: data, searched: true, message: `${data.length} blogs found` });\n        });\n    };\n\n    const handleChange = e => {\n        setValues({ ...values, search: e, searched: false, results: [] });\n    };\n\n    const searchedBlogs = (results = []) => {\n        return (\n            <div>\n                {message && <p className=\"pt-4\">{message}</p>}\n\n                {results.map((blog, i) => {\n                    return (\n                        <Col xs={12} key={i}>\n                            <Card blog={blog} />\n                        </Col>\n                    );\n                })}\n            </div>\n        );\n    };\n\n    const searchForm = () => (\n       <Form onSubmit={searchSubmit} fluid layout=\"inline\">\n           <FormGroup style={{marginRight: 5}}>\n               <FormControl placeholder=\"Search Posts...\" onChange={handleChange} />\n           </FormGroup>\n           <Button type=\"submit\" appearance=\"ghost\">\n                <Icon icon=\"search\"  /> Search\n            </Button>\n       </Form>\n    );\n\n    return (\n        <div className=\"container\">\n            <Grid fluid>\n                <Row className=\"show-grid\">\n                    <Col xs={24}>\n                        {searchForm()}\n                    </Col>\n                    {searched && <React.Fragment>{searchedBlogs(results)}</React.Fragment>}\n                </Row>\n            </Grid>\n        </div>\n    );\n};\n\nexport default Search;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AADA;AACA;AAMA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AADA;AACA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChFA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AACA;AAUA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}