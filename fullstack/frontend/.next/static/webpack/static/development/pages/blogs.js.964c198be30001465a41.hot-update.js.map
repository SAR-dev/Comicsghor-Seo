{"version":3,"file":"static/webpack/static\\development\\pages\\blogs.js.964c198be30001465a41.hot-update.js","sources":["webpack:///./pages/blogs/index.js"],"sourcesContent":["import Head from 'next/head';\nimport Link from 'next/link';\nimport { withRouter } from 'next/router';\nimport Layout from '../../components/Layout';\nimport { useState } from 'react';\nimport { listBlogsWithCategoriesAndTags } from '../../actions/blog';\nimport Card from '../../components/blog/Card';\nimport { API, DOMAIN, APP_NAME, FB_APP_ID } from '../../config';\n\nimport { Grid, Row, Col, List, Button } from 'rsuite';\n\nconst Blogs = ({ blogs, categories, tags, totalBlogs, blogsLimit, blogSkip, router }) => {\n\tconst head = () => (\n\t\t<Head>\n\t\t\t<title>Programming blogs | {APP_NAME}</title>\n\t\t\t<meta\n\t\t\t\tname=\"description\"\n\t\t\t\tcontent=\"Programming blogs and tutorials on react node next vue php laravel and web developoment\"\n\t\t\t/>\n\t\t\t<link rel=\"canonical\" href={`${DOMAIN}${router.pathname}`} />\n\t\t\t<meta property=\"og:title\" content={`Latest web developoment tutorials | ${APP_NAME}`} />\n\t\t\t<meta\n\t\t\t\tproperty=\"og:description\"\n\t\t\t\tcontent=\"Programming blogs and tutorials on react node next vue php laravel and web developoment\"\n\t\t\t/>\n\t\t\t<meta property=\"og:type\" content=\"webiste\" />\n\t\t\t<meta property=\"og:url\" content={`${DOMAIN}${router.pathname}`} />\n\t\t\t<meta property=\"og:site_name\" content={`${APP_NAME}`} />\n\n\t\t\t<meta property=\"og:image\" content={`${DOMAIN}/images/seoblog.jpg`} />\n\t\t\t<meta property=\"og:image:secure_url\" ccontent={`${DOMAIN}/images/seoblog.jpg`} />\n\t\t\t<meta property=\"og:image:type\" content=\"image/jpg\" />\n\t\t\t<meta property=\"fb:app_id\" content={`${FB_APP_ID}`} />\n\t\t</Head>\n\t);\n\n\tconst [ limit, setLimit ] = useState(blogsLimit);\n\tconst [ skip, setSkip ] = useState(0);\n\tconst [ size, setSize ] = useState(totalBlogs);\n\tconst [ loadedBlogs, setLoadedBlogs ] = useState([]);\n\n\tconst loadMore = () => {\n\t\tlet toSkip = skip + limit;\n\t\tlistBlogsWithCategoriesAndTags(toSkip, limit).then((data) => {\n\t\t\tif (data.error) {\n\t\t\t\tconsole.log(data.error);\n\t\t\t} else {\n\t\t\t\tsetLoadedBlogs([ ...loadedBlogs, ...data.blogs ]);\n\t\t\t\tsetSize(data.size);\n\t\t\t\tsetSkip(toSkip);\n\t\t\t}\n\t\t});\n\t};\n\n\tconst loadMoreButton = () => {\n\t\treturn (\n\t\t\tsize > 0 &&\n\t\t\tsize >= limit && (\n\t\t\t\t<Button appearance='primary' block onClick={loadMore}>Load More</Button>\n\t\t\t)\n\t\t);\n\t};\n\n\tconst showAllBlogs = () => {\n\t\treturn blogs.map((blog, i) => {\n\t\t\treturn (\n\t\t\t\t<article key={i}>\n\t\t\t\t\t<Card blog={blog} />\n\t\t\t\t</article>\n\t\t\t);\n\t\t});\n    };\n    \n    const showLoadedBlogs = () => {\n\t\treturn loadedBlogs.map((blog, i) => (\n\t\t\t<article key={i}>\n\t\t\t\t<Card blog={blog} />\n\t\t\t</article>\n\t\t));\n\t};\n\n\tconst showAllCategories = () => {\n\t\treturn categories.map((c, i) => (\n\t\t\t<List.Item key={i} index={i} className=\"menu-list\">\n\t\t\t\t<Link href={`/categories/${c.slug}`}>\n\t\t\t\t\t<a className={`pl-2 ${router.pathname === `/${c.slug}` ? 'active-menu' : ''}`}>{c.name}</a>\n\t\t\t\t</Link>\n\t\t\t</List.Item>\n\t\t));\n\t};\n\n\tconst showAllTags = () => {\n\t\treturn tags.map((t, i) => (\n\t\t\t<List.Item key={i} index={i} className=\"menu-list\">\n\t\t\t\t<Link href={`/tags/${t.slug}`}>\n\t\t\t\t\t<a className={`pl-2 ${router.pathname === `/${t.slug}` ? 'active-menu' : ''}`}>{t.name}</a>\n\t\t\t\t</Link>\n\t\t\t</List.Item>\n\t\t));\n\t};\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{head()}\n\t\t\t<Layout>\n\t\t\t\t<main>\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<Grid fluid>\n\t\t\t\t\t\t\t<Row className=\"show-grid\">\n\t\t\t\t\t\t\t\t<Col xs={6}>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"pb-3\">Categories</h6>\n\t\t\t\t\t\t\t\t\t\t<List bordered size=\"sm\" className=\"mr-4 mb-3\">\n\t\t\t\t\t\t\t\t\t\t\t{showAllCategories()}\n\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"pb-3\">Tags</h6>\n\t\t\t\t\t\t\t\t\t\t<List bordered size=\"sm\" className=\"mr-4\">\n\t\t\t\t\t\t\t\t\t\t\t{showAllTags()}\n\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t\t\t<div>{showAllBlogs()}</div>\n\t\t\t\t\t\t\t\t\t<div>{showLoadedBlogs()}</div>\n\t\t\t\t\t\t\t\t\t<div>{loadMoreButton()}</div>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={6} />\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t</Layout>\n\t\t</React.Fragment>\n\t);\n};\n\nBlogs.getInitialProps = () => {\n\tlet skip = 0;\n\tlet limit = 2;\n\treturn listBlogsWithCategoriesAndTags(skip, limit).then((data) => {\n\t\tif (data.error) {\n\t\t\tconsole.log(data.error);\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tblogs: data.blogs,\n\t\t\t\tcategories: data.categories,\n\t\t\t\ttags: data.tags,\n\t\t\t\ttotalBlogs: data.size,\n\t\t\t\tblogsLimit: limit,\n\t\t\t\tblogSkip: skip\n\t\t\t};\n\t\t}\n\t});\n};\n\nexport default withRouter(Blogs);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AApBA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAKA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAOA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}